(function(){let c={};c.sleep=function(a){let now=new Date();let exitTime=now.getTime()+a;while(true){now=new Date();if(now.getTime()>exitTime){return}}};c.log=function(a){console.log(a)};c.getRoute=function(a){a=a||window.location.hash;let rep=/(\/[0-9a-zA-Z\u4e00-\u9fa5]+)/g;return decodeURI(a).match(rep)};c.loadData=function(a){$.ajax({type:"get",url:a,cache:true,dataType:"json",success:function(b){$("title").html(function(){return b.title});$("header ul.nav").html(function(){let ret="";for(let i=0;i<b.head.length;i++){let j=b.head[i];switch(j.type){case"active":ret+='<li class="active"><a href="'+j.link+'">'+j.title+"</a></li>";break;case"normal":ret+='<li><a href="'+j.link+'">'+j.title+"</a></li>";break;case"return":ret+='<li><a href="/">'+j.title+"</a></li>";break}}return ret});$("section#intro div.row div").html(function(){if(b.intro==null){$("section#intro").css("display","none");return""}return'<div class="intro animate-box">'+b.intro+"</div>"});$("main#main div.container").html(function(){if(b.main==null){$("main#main").css("display","none");return""}let ret="";for(let i=0;i<b.main.length;i++){let j=b.main[i];ret+='<div class="offset-md-2 col-md-8 animate-box">'+j+"</div>"}return ret});$("section#work div.container").html(function(){if(b.work==null){$("section#work").css("display","none");return""}let ret="";ret+='<div class="row">';for(let i=0;i<b.work.length;i++){let j=b.work[i];ret+='<div class="'+j["class"]+'">';ret+='<div class="fh5co-grid animate-box" style="background-image: url('+j.image+');">';ret+='<a class="image-popup text-center">';ret+='<div class="work-title">';ret+="<h3>"+j["title-h3"]+"</h3>";ret+="<span>"+j["title-span"]+"</span>";ret+="</div></a></div></div>"}ret+="</div>";return ret});$("section#product div.container").html(function(){if(b.product==null){$("section#product").css("display","none");return""}let ret="";ret+='<div class="row animate-box">';ret+='<div class="col-md-12 section-heading text-center">';ret+="<h2>"+b.product["heading"]+"</h2>";ret+='<div class="row">';ret+='<div class="col-md-6 offset-md-3 subtext">';ret+="<p>"+b.product["subtext"]+"</p>";ret+="</div></div></div></div>";ret+='<div class="row post-entry">';for(let i=0;i<b.product["block"].length;i++){let j=b.product["block"][i];ret+='<div class="col-md-6">';ret+='<div class="post animate-box">';ret+='<a><img src="'+j.image+'" alt="Product"></a>';ret+="<div><h3>"+j.title+"</h3>";ret+="<p>"+j.paragraph+"</p>";ret+='<span><a href="'+j.link+'">'+j.link_title+"</a></span>";ret+="</div></div></div>"}ret+="</div>";return ret});$("section#services div.row").html(function(){if(b.services==null){$("section#services").css("display","none");return""}let ret="";for(let i=0;i<b.services.length;i++){let j=b.services[i];ret+='<div class="col-md-4 animate-box">';ret+='<div class="service">';ret+='<div class="service-icon">';ret+='<i class="'+j.icon+'"></i>';ret+="</div>";ret+="<h2>"+j.title+"</h2>";ret+="<p>"+j.content+"</p>";ret+="</div>";ret+="</div>"}return ret});$("footer#footer p.pull-left small").html(function(){return b.footer["left"]});$("footer#footer p.pull-right small").html(function(){return b.footer["right"]});$("ul.nav a").on("click",c.navOnClick);$(function(){let i=0;$(".animate-box").waypoint(function(d){if(d==="down"&&!$(this.element).hasClass("animated")){i++;$(this.element).addClass("item-animate");setTimeout(function(){$("body .animate-box.item-animate").each(function(e){let el=$(this);setTimeout(function(){el.addClass("fadeInUp animated");el.removeClass("item-animate")},e*200,"easeInOutExpo")})},100)}},{offset:"85%"})})},error:function(b){c.log(b.status+" "+b.statusText);c.Modal_show(b.status+" "+b.statusText,b.responseText)}})};c.getLang=function(){return navigator.language};c.route=function(a){c.loadData("/data"+a[0]+a[1]+"_"+c.getLang()+".json")};c.Modal_show=function(b,a){b=b||"";a=a||"";$("h5#ModalLabel").html(b);$("div.modal-body").html(a);$("div#Modal").modal("show")};c.navOnClick=function(){$("ul.nav li").removeClass("active");$(this).parent().addClass("active");c.route(c.getRoute($(this).attr("href")))};$(window).on("popstate",function(){let r=c.getRoute();c.log(r);if(r!=null){c.route(r)}});let r=c.getRoute();c.log(r);if(r!=null){c.route(r)}window.app=c})();